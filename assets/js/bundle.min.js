function runMainScripts(){console.log("自作アニメーション開始");const e=document.querySelector(".header__body--nav"),t=document.querySelector(".close-btn");console.log(t);let n=0;function o(){const o=window.pageYOffset||document.documentElement.scrollTop;window.innerWidth<1024||o>n&&o>50?(e.classList.add("fade-out"),t.classList.add("visible")):(e.classList.remove("fade-out"),t.classList.remove("visible")),n=o<=0?0:o}function s(e){document.querySelectorAll(e).forEach(e=>{const t=e.textContent;e.innerHTML="",t.split("").forEach(t=>{const n=document.createElement("span");n.textContent=t,e.appendChild(n)})})}function i(){const e=gsap.timeline();e.set(".button",{visibility:"hidden",opacity:0});const t=document.querySelectorAll(".title span");e.fromTo(t,{opacity:0,bottom:"-80px"},{opacity:1,bottom:"0px",ease:"back.out(1.7)",stagger:.05}),e.fromTo(".is-slide-up",{opacity:0,y:60},{opacity:1,y:0,duration:1,ease:"power2.out"},"<"),e.to(".button",{visibility:"visible",opacity:1,duration:.2})}window.addEventListener("scroll",function(){const e=window.scrollY;document.body.style.backgroundPosition=`center ${e/-20}px`}),window.addEventListener("scroll",o),window.addEventListener("resize",o),o(),t.addEventListener("click",()=>{e.classList.remove("fade-out"),t.classList.remove("visible")}),s(".title"),s(".button"),document.querySelectorAll(".button").forEach(e=>{e.addEventListener("click",i)})}function sendToDify(e){console.log("送信開始"),fetch("https://selectlanchserver.onrender.com/send-to-dify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:{country:e.selectedCountry,main:e.selectedMain,dish:e.selectedMainDish},user:"user"})}).then(e=>{if(!e.ok)throw new Error("Dify送信に失敗しました。");return e.json()}).then(e=>{console.log(e);const t=e.data?.outputs?.result??"AIからの返答がありません";console.log("Difyの返答",t);const n=`/result.html?ai=${encodeURIComponent(t)}`;document.getElementById("resultBox").innerHTML=`\n      <br>\n      <a href="${n}" target="_blank" style="color: #2196f3; font-weight: bold;">\n        🤖 AIの提案を別ページで見る\n      </a>\n    `}).catch(e=>{console.error("エラー",e)})}window.addEventListener("load",()=>{setTimeout(()=>{runMainScripts()},5e3)}),document.addEventListener("DOMContentLoaded",function(){let e={selectedCountry:null,selectedMain:null,selectedMainDish:null};function t(t,n,o,s){const i=document.getElementById(t),l=document.getElementById(n);let c=[];i.addEventListener("click",function(){let t;c.length===o.length&&(c=[],console.log("全て表示されたのでリセットします。"));do{t=Math.floor(Math.random()*o.length)}while(c.includes(t));c.push(t);const n=o[t];l.textContent=n,e[s]=n,function(){const t=Object.values(e);t.every(e=>null!==e)&&setTimeout(()=>{const t=`今日のご飯は…<br>\n          🍽️ <strong>ジャンル：</strong>${e.selectedCountry}<br>\n          🍞 <strong>主食：</strong>${e.selectedMain}<br>\n          🍖 <strong>メイン：</strong>${e.selectedMainDish}<br>\n          <button id="askAIButton">AIにレシピ聞く</button>`,n=document.getElementById("resultBox");n.innerHTML=t,n.classList.add("show");document.getElementById("askAIButton").addEventListener("click",()=>{const t=`${e.selectedCountry}の料理で、主食は${e.selectedMain}、メインは${e.selectedMainDish}のレシピを教えて`;sendToDify(e),alert("AIにレシピを聞いています。:\n\n"+t)}),setTimeout(()=>{n.classList.remove("show"),n.innerHTML="",e={selectedCountry:null,selectedMain:null,selectedMainDish:null},document.getElementById("selectedCountry").textContent="",document.getElementById("selectedMain").textContent="",document.getElementById("selectedMainDish").textContent=""},5e4)},200)}()})}document.getElementById("askAIButton").addEventListener("click",function(){Object.values(e).every(e=>null!==e)?sendToDify(e):alert("全ての項目を選んでからAIに聞いて下さい")}),t("selectCountryButton","selectedCountry",["中華","イタリアン","和食","アメリカ"],"selectedCountry"),t("selectMainButton","selectedMain",["白米","和めん","パスタ","ぱん"],"selectedMain"),t("selectMainDishButton","selectedMainDish",["鶏肉","牛肉","豚肉","魚","魚介（魚以外"],"selectedMainDish")});const defaultOptions={pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},loop:!0,slidesPerView:1},swiper=new Swiper(".sample-swiper .swiper-container",{...defaultOptions}),swiperFade=new Swiper(".sample-swiper-fade .swiper-container",{...defaultOptions,effect:"fade",fadeEffect:{crossFade:!0}}),swiperCoverflow=new Swiper(".sample-swiper-coverflow .swiper-container",{...defaultOptions,slidesPerView:1.6,centeredSlides:!0,effect:"coverflow",coverflowEffect:{rotate:0,stretch:50,depth:200,slideShadows:!0}}),swiperCards=new Swiper(".sample-swiper-cards .swiper-container",{...defaultOptions,grabCursor:!0,effect:"cards"}),swiperCreative=new Swiper(".sample-swiper-creative .swiper-container",{...defaultOptions,grabCursor:!0,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}}});